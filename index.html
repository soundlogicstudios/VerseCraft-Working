<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>VerseCraft – Clean Foundation</title>
  <link rel="stylesheet" href="./Styles.css" />
</head>

<body>
  <div class="container">

    <!-- Top Bar -->
    <div class="topbar">
      <div class="brand">
        <div class="title">VerseCraft</div>
        <div class="subtitle">Clean Foundation</div>
      </div>

      <div class="topbarRight">
        <!-- Context Pill -->
        <div id="pill" class="pill">
          <span id="pillText">Screen: Menu</span>
        </div>

        <!-- Top Menu Button -->
        <button id="btnTopMenu" class="topBtn" type="button">Menu</button>
      </div>
    </div>

    <!-- Screens -->
    <!-- Menu Screen -->
    <div id="screenMenu" class="screen">
      <div class="card">
        <h1 class="h1">Main Menu</h1>
        <p class="p">Minimal baseline UI. Next step will load <code>./content/Catalog.json</code>.</p>

        <div class="btnStack">
          <button id="btnLoadNewStory" class="btn" type="button">Load New Story</button>
          <button id="btnContinueStory" class="btn" type="button" disabled>Continue Story</button>
          <button id="btnSettings" class="btn" type="button">Settings</button>
        </div>

        <!-- Debug Panel (hidden unless enabled via ?debug=1 or toggle) -->
        <div id="debugPanel" class="debugPanel" style="display:none;">
          <div class="debugHeader">
            <div class="debugTitle">Debug</div>
            <label class="debugToggleWrap">
              <input id="debugToggle" type="checkbox" />
              <span>Enabled</span>
            </label>
          </div>
          <pre id="debugLog" class="debugLog"></pre>
        </div>
      </div>
    </div>

    <!-- Catalog Screen (placeholder; engine will populate from content/Catalog.json) -->
    <div id="screenCatalog" class="screen">
      <div class="card">
        <h1 class="h1">Catalog</h1>
        <p class="p">This screen will load <code>content/Catalog.json</code> and display available Packs.</p>

        <div class="row">
          <button id="btnCatalogBack" class="topBtn" type="button">Back</button>
          <button id="btnCatalogEnterGameDemo" class="topBtn" type="button">Enter Game Demo</button>
        </div>

        <hr class="hr" />
        <p class="p">
          Future: Catalog → Pack Select → Story Select.
          This placeholder is here to keep routing and button wiring stable during foundation work.
        </p>

        <!-- Debug Panel also available here if enabled -->
        <div id="debugPanelCatalog" class="debugPanel" style="display:none;">
          <div class="debugHeader">
            <div class="debugTitle">Debug</div>
            <label class="debugToggleWrap">
              <input id="debugToggleCatalog" type="checkbox" />
              <span>Enabled</span>
            </label>
          </div>
          <pre id="debugLogCatalog" class="debugLog"></pre>
        </div>
      </div>
    </div>

    <!-- Packs Screen (reserved for future; safe placeholder) -->
    <div id="screenPacks" class="screen">
      <div class="card">
        <h1 class="h1">Packs</h1>
        <p class="p">Reserved screen for Pack selection. (Placeholder)</p>
      </div>
    </div>

    <!-- Stories Screen (reserved for future; safe placeholder) -->
    <div id="screenStories" class="screen">
      <div class="card">
        <h1 class="h1">Stories</h1>
        <p class="p">Reserved screen for Story selection inside a Pack. (Placeholder)</p>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="screenGame" class="screen">
      <div class="card">
        <h1 id="gameTitle" class="h1">Game</h1>
        <p id="gameBody" class="p">Gameplay content will render here.</p>

        <hr class="hr" />
        <p class="p">
          Pill behavior in Game mode: <strong>Story Title · §Section</strong> (and optional Chapter later).
        </p>
      </div>
    </div>

    <!-- Settings Screen -->
    <div id="screenSettings" class="screen">
      <div class="card">
        <h1 class="h1">Settings</h1>
        <p class="p">Reserved for settings. (Placeholder)</p>

        <div class="row">
          <button id="btnSettingsBack" class="topBtn" type="button">Back</button>
        </div>
      </div>
    </div>

    <!-- Debug Screen (reserved; optional) -->
    <div id="screenDebug" class="screen">
      <div class="card">
        <h1 class="h1">Debug</h1>
        <p class="p">Reserved debug screen. (Placeholder)</p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div id="footerVersion" class="footText">VerseCraft v0.0.2 • GitHub Pages • iOS Safari baseline</div>
  </div>

  <!-- Script -->
  <script src="./App.js"></script>
</body>
</html>