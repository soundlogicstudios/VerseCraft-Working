<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0f1a" />
  <title>VerseCraft — Clean Foundation</title>

  <!-- Canonical stylesheet (case-sensitive on GitHub Pages) -->
  <link rel="stylesheet" href="Styles.css" />

  <!-- Canonical app script (case-sensitive on GitHub Pages) -->
  <script defer src="App.js"></script>
</head>
<body>
  <header class="topbar">
    <div id="pillbox" class="pillbox" aria-live="polite">
      <div class="pill-row">
        <span class="pill-label">Mode</span>
        <span id="pillMode" class="pill-value">Screen: Menu</span>
      </div>
      <div class="pill-row">
        <span class="pill-label">Context</span>
        <span id="pillContext" class="pill-value">—</span>
      </div>
    </div>
  </header>

  <main class="app">
    <!-- MENU -->
    <section id="menuScreen" class="screen active" role="region" aria-label="Menu">
      <div class="container">
        <h1 class="title">VerseCraft</h1>
        <p class="subtitle">Your choices. Your RPG. Your adventure.</p>

        <div class="card">
          <button id="btnLoadCatalog" class="btn primary" type="button">Load New Story</button>
          <button id="btnContinue" class="btn" type="button" disabled aria-disabled="true">Continue Story</button>
          <button id="btnSettings" class="btn" type="button">Settings</button>
        </div>

        <div class="hint">
          <div>Tip: Add <code>?debug=1</code> to the URL to enable the in-app debug panel.</div>
        </div>
      </div>
    </section>

    <!-- CATALOG -->
    <section id="catalogScreen" class="screen" role="region" aria-label="Catalog">
      <div class="container">
        <div class="row">
          <button id="btnBackToMenuFromCatalog" class="btn small" type="button">← Menu</button>
          <div class="spacer"></div>
          <button id="btnReloadCatalog" class="btn small" type="button">Reload</button>
        </div>

        <h2 class="h2">Catalog</h2>
        <p class="muted">Choose a story pack.</p>

        <div id="catalogList" class="list"></div>
      </div>
    </section>

    <!-- STORY SELECT -->
    <section id="storySelectScreen" class="screen" role="region" aria-label="Stories">
      <div class="container">
        <div class="row">
          <button id="btnBackToCatalog" class="btn small" type="button">← Packs</button>
          <div class="spacer"></div>
        </div>

        <h2 class="h2">Stories</h2>
        <p id="storiesSubtitle" class="muted">Choose a story.</p>

        <div id="storiesList" class="list"></div>
      </div>
    </section>

    <!-- GAME -->
    <section id="gameScreen" class="screen" role="region" aria-label="Game">
      <div class="container">
        <div class="row">
          <button id="btnExitToMenu" class="btn small" type="button">← Menu</button>
          <div class="spacer"></div>
        </div>

        <div class="card">
          <h2 id="gameTitle" class="h2">—</h2>
          <div id="gameSectionLabel" class="muted">§—</div>
          <div id="gameText" class="game-text"></div>
        </div>

        <div id="choices" class="choices"></div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settingsScreen" class="screen" role="region" aria-label="Settings">
      <div class="container">
        <div class="row">
          <button id="btnBackToMenuFromSettings" class="btn small" type="button">← Menu</button>
          <div class="spacer"></div>
        </div>

        <h2 class="h2">Settings</h2>

        <div class="card">
          <div class="kv">
            <div class="k">Debug mode</div>
            <div class="v"><span id="debugState">Off</span></div>
          </div>
          <div class="kv">
            <div class="k">Content root</div>
            <div class="v"><code>./content/</code></div>
          </div>
          <div class="kv">
            <div class="k">Expected catalog</div>
            <div class="v"><code>./content/Catalog.json</code></div>
          </div>
        </div>
      </div>
    </section>

    <!-- DEBUG PANEL (injected by App.js when enabled) -->
    <div id="debugPanelHost"></div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <span id="footerVersion">v0.0.4</span>
      <span class="dot">•</span>
      <span>VerseCraft — Clean Foundation</span>
    </div>
  </footer>
</body>
</html>
